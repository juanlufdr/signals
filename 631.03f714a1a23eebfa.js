"use strict";(self.webpackChunkno_signals=self.webpackChunkno_signals||[]).push([[631],{4631:(C,u,r)=>{r.r(u),r.d(u,{UserSignalsPageModule:()=>b});var l=r(6814),m=r(594),t=r(9468),d=r(4397),h=r(2181),g=r(8062),i=r(95);function f(o,p){if(1&o&&(t.TgZ(0,"div",7)(1,"form",8)(2,"div",9)(3,"label",10),t._uU(4," First Name:"),t.qZA(),t._UZ(5,"input",11),t.qZA(),t.TgZ(6,"div",9)(7,"label",10),t._uU(8,"Last Name: "),t.qZA(),t._UZ(9,"input",12),t.qZA(),t.TgZ(10,"div",9)(11,"label",10),t._uU(12,"Email: "),t.qZA(),t._UZ(13,"input",13),t.qZA()(),t.TgZ(14,"div")(15,"pre"),t._uU(16),t.ALo(17,"json"),t.qZA()()()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(15),t.hij("      ",t.lcZ(17,2,e.userInfo),"\n    ")}}let _=(()=>{class o{constructor(e,s){this.activeModal=e,this.userService=s,this.user=(0,t.tdS)({}),this.count=(0,t.tdS)(0),this.isTrue=(0,t.tdS)(!1),this.updateValue=(0,t.cEC)(n=>{console.log(n),this.userInfo=this.user()})}ngOnInit(){setInterval(()=>{this.count.set(this.count()+1)},1e3),this.getUser()}getUser(){this.userService.getUserById(this.id).subscribe(e=>{this.user.set(e),this.isTrue.set(!0),this.buildForm(),console.log(this.user())})}buildForm(){this.form=new i.cw({firstName:new i.NI(this.user().first_name),lastName:new i.NI(this.user().last_name),email:new i.NI(this.user().email)}),this.form?.valueChanges.subscribe(e=>{this.user.update(s=>({...s,first_name:e.firstName,last_name:e.lastName,email:e.email}))})}confirm(){this.activeModal.close(this.user())}cancel(){this.activeModal.close()}static#t=this.\u0275fac=function(s){return new(s||o)(t.Y36(g.Kz),t.Y36(d.f))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-user-modal"]],inputs:{id:"id"},decls:10,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-body"],[1,"d-flex-column",3,"formGroup"],[1,"form-section"],["for","first_name"],["id","first-name","type","text","formControlName","firstName",1,"form-control"],["id","first-name","type","text","formControlName","lastName",1,"form-control"],["id","first-name","type","text","formControlName","email",1,"form-control"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Edit user"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.activeModal.dismiss("Cross click")}),t.qZA()(),t.YNc(4,f,18,4,"div",3),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return n.activeModal.close("Close click")}),t._uU(7," Cancel\n"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return n.activeModal.close("Close click")}),t._uU(9," Confirm "),t.qZA()()),2&s&&(t.xp6(4),t.Q6J("ngIf",n.form))},dependencies:[l.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,l.Ts],styles:[".form-section[_ngcontent-%COMP%]{margin:10px 5px}.form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:120px;margin-bottom:5px}"]})}return o})();function Z(o,p){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"th",8),t._uU(2),t.qZA(),t.TgZ(3,"td",9),t._UZ(4,"img",10),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",9),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"span",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.open(a.id))}),t._uU(13,"\u270f\ufe0f"),t.qZA(),t.TgZ(14,"span",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.deleteUser(a.id))}),t._uU(15,"\u274c"),t.qZA()()()}if(2&o){const e=p.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Q6J("src",e.avatar,t.LSH),t.xp6(2),t.Oqu(e.first_name),t.xp6(2),t.Oqu(e.last_name),t.xp6(2),t.Oqu(e.email)}}const U=[{path:"",component:(()=>{class o{constructor(e){this.injector=e,this.usersService=(0,t.f3M)(d.f),this.modalService=(0,t.f3M)(g.FF),this.users=(0,t.tdS)([]),this.currentPage=(0,t.tdS)(1),this.labelTotalUsers=(0,t.Flj)(()=>`Total de usuarios:  ${this.users().length}`)}ngOnInit(){console.time(),this.loadPage(this.currentPage()),(0,t.cEC)(()=>{console.log(`Total usuarios ${this.users().length}`)},{injector:this.injector})}loadPage(e){this.usersService.loadPage(e).pipe((0,h.h)(s=>s.length>0)).subscribe(s=>{this.users.update(n=>[...n,...s]),this.currentPage.set(e)})}deleteUser(e){this.usersService.deleteUser(e).subscribe(s=>{console.log(s),console.log(this.users()),this.users.update(n=>n.filter(a=>a.id!==e))})}open(e){this.modalService.open(_).componentInstance.id=e}demo(){console.log("demo")}static#t=this.\u0275fac=function(s){return new(s||o)(t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-users-signals-page"]],decls:29,vars:3,consts:[[1,"row","mt-3","d-flex","justify-content-center"],[1,"col-12"],[1,"col-8","center"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["scope","row"],[1,"col-1"],["alt","Avatar del usuario",3,"src"],[1,"action-icon",3,"click"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"Usuarios "),t.TgZ(4,"small"),t._uU(5,"- con Se\xf1ales (Tradicional)"),t.qZA()(),t.TgZ(6,"h2"),t._uU(7),t.qZA(),t._UZ(8,"hr"),t.qZA(),t.TgZ(9,"div",2)(10,"table",3)(11,"thead")(12,"tr",4)(13,"th",5),t._uU(14,"#"),t.qZA(),t.TgZ(15,"th",5),t._uU(16,"Avatar"),t.qZA(),t.TgZ(17,"th",5),t._uU(18,"First"),t.qZA(),t.TgZ(19,"th",5),t._uU(20,"Last"),t.qZA(),t.TgZ(21,"th",5),t._uU(22,"Email"),t.qZA(),t.TgZ(23,"th",5),t._uU(24,"Actions"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,Z,16,5,"tr",6),t.qZA()()()(),t.TgZ(27,"button",7),t.NdJ("click",function(){return n.loadPage(n.currentPage()+1)}),t._uU(28),t.qZA()),2&s&&(t.xp6(7),t.Oqu(n.labelTotalUsers()),t.xp6(19),t.Q6J("ngForOf",n.users()),t.xp6(2),t.hij(" Cargar m\xe1s - Pagina (",n.currentPage(),")\n"))},dependencies:[l.sg],styles:["button[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:50px}img[_ngcontent-%COMP%]{border-radius:50%}.action-icon[_ngcontent-%COMP%]{margin-right:10px}.action-icon[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return o})()}];let T=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=t.oAB({type:o});static#s=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(U),m.Bz]})}return o})(),b=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=t.oAB({type:o});static#s=this.\u0275inj=t.cJS({imports:[l.ez,T]})}return o})()}}]);